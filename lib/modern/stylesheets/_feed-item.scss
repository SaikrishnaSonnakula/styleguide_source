$mobile-item-icon-padding: $small-spacing;
$mobile-item-gutter-width: $feature-icon-mobile-size + (2 * $mobile-item-icon-padding);
$desktop-item-icon-padding: $medium-spacing;
$desktop-item-gutter-width:  $feature-icon-desktop-size + (2 * $desktop-item-icon-padding);
$feed-item-border-size: 3px;

@mixin gutter($width, $padding, $mobile-width, $mobile-padding) {
  @extend %-section;

  width: $mobile-width;
  float: left;
  padding-left: $mobile-padding;
  padding-right: $mobile-padding;

  @include media($desktop) {
    width: $width;
    float: left;
    padding-left: $padding;
    padding-right: $padding;
  }
}

.feed-item {
  @include transition(position 0.3s ease-in-out);
  @include media($desktop){
    border:  $feed-item-border-size solid transparent;
  }


  %-section {
    margin-top: $medium-spacing;
    margin-bottom: $medium-spacing;
  }

  .-gutter {
    @include gutter($desktop-item-gutter-width, $desktop-item-icon-padding, $mobile-item-gutter-width, $mobile-item-icon-padding);
  }

  .-main {
    @extend %-section;
    @include clearfix;
    margin-left: $mobile-item-gutter-width;
    margin-top: $medium-spacing;
    margin-bottom: $medium-spacing;
    @include media($desktop) {
      margin-left: $desktop-item-gutter-width;
    }
  }

  .-body {
    color: color(dolphin);
    font-size: $base-font-size;
  }

  .-click-to-expand {
    @extend %button-unstyled;
    position: relative;
    width: 100%;

    .item-heading {
      max-width: 99%;
      margin-top: 0;
    }

    &:after {
      @include icon-for("close");
      line-height: $small-font-size;
      font-size: $large-font-size;
      color: $link-color;
      position: absolute;
      opacity: 0;
      right: $mobile-item-icon-padding;
      top: 0;
    }
  }

  .-footer {
    margin-top: $medium-spacing;
  }

  .-collapsible {
    @extend %hide-fade-in;
    @include transition(opacity 0.3s ease-in-out);
  }

  &.-open {
    @extend %show-fade-in;
    .-collapsible { @extend %show-fade-in; }
    .-click-to-expand:after {
      opacity: 1;
    }

    @include media($mobile){
      @include position(fixed, 0px 0px 0px 0px);
      background: white;
      overflow: auto;
      z-index: $foreground;

      .-main {
        position: absolute;
        top: 0;
        bottom: 0;
      }
    }
  }

  &.-collapsible, &.-clickable {
    &:hover, &.-open { border-color: color(graphite-light); }
  }
}
